{
  "Users": [
    {
      "groups": ["admin"],
      "firstname": "Super",
      "surname": "User",
      "email": "root@openhim.org",
      "passwordAlgorithm": "sha512",
      "passwordHash": "647547e9710763a4cadc2c18c685c3b75a16cca7119fcc9e95d1f097a9cd1570d8f73ec28744d8f274638f9414b72af4b291fb362c9e9f388966c27763338476",
      "passwordSalt": "bcdf80333e91d96a3b5e1566661032ae",
      "expiry": null,
      "locked": false,
      "token": null,
      "tokenType": null
    }
  ],
  "Clients": [
    {
      "roles": ["dhis2api"],
      "clientID": "dhis2",
      "name": "DHIS2",
      "passwordAlgorithm": "sha512",
      "passwordSalt": "d4c243b59e33ad86c4e402eb3d9055ae",
      "passwordHash": "73cb96b138034d265646fc3f32fb102ab174a26ebe4bf8502c59cf99375a2140e797521b85000c5410fb07d92bca11e1c75d9d435d9aa14df148db354eebbab5"
    }
  ],
  "Channels": [
    {
      "methods": ["POST"],
      "type": "http",
      "allow": ["dhis2", "dhis2api"],
      "whitelist": [],
      "authType": "private",
      "matchContentTypes": [],
      "properties": [],
      "txViewAcl": [],
      "txViewFullAcl": [],
      "txRerunAcl": [],
      "status": "enabled",
      "rewriteUrls": false,
      "addAutoRewriteRules": true,
      "autoRetryEnabled": false,
      "autoRetryPeriodMinutes": 60,
      "routes": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "File queue",
          "secured": false,
          "host": "localhost",
          "port": 4002,
          "path": "/aggregate/severe-illness",
          "pathTransform": "",
          "primary": true,
          "username": "",
          "password": ""
        }
      ],
      "requestBody": true,
      "responseBody": true,
      "rewriteUrlsConfig": [],
      "name": "DHIS2 Aggregate - Severe Illness",
      "description": "Sends Sever Illness aggregate data to DHIS2",
      "urlPattern": "^/aggregate/.*$",
      "matchContentRegex": null,
      "matchContentXpath": null,
      "matchContentValue": null,
      "matchContentJson": null,
      "pollingSchedule": null,
      "tcpHost": null,
      "tcpPort": null,
      "updatedBy": {
        "id": "5ee0e4fa07c7e900121bcb82",
        "name": "Super User"
      },
      "alerts": []
    },
    {
      "methods": ["POST"],
      "type": "http",
      "allow": ["dhis2", "dhis2api"],
      "whitelist": [],
      "authType": "private",
      "matchContentTypes": [],
      "properties": [],
      "txViewAcl": [],
      "txViewFullAcl": [],
      "txRerunAcl": [],
      "status": "enabled",
      "rewriteUrls": false,
      "addAutoRewriteRules": true,
      "autoRetryEnabled": false,
      "autoRetryPeriodMinutes": 60,
      "routes": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "File queue",
          "secured": false,
          "host": "localhost",
          "port": 4002,
          "path": "/event-based/inpatient-admissions",
          "pathTransform": "",
          "primary": true,
          "username": "",
          "password": ""
        }
      ],
      "requestBody": true,
      "responseBody": true,
      "rewriteUrlsConfig": [],
      "name": "DHIS2 Event Based - Inpatient Admissions",
      "urlPattern": "^/event-based/.*$",
      "matchContentRegex": null,
      "matchContentXpath": null,
      "matchContentValue": null,
      "matchContentJson": null,
      "pollingSchedule": null,
      "tcpHost": null,
      "tcpPort": null,
      "updatedBy": {
        "id": "5ee0e4fa07c7e900121bcb82",
        "name": "Super User"
      },
      "alerts": [],
      "description": "Sends Inpatient Event data to DHIS2"
    },
    {
      "methods": ["POST"],
      "type": "http",
      "allow": ["dhis2", "dhis2api"],
      "whitelist": [],
      "authType": "private",
      "matchContentTypes": [],
      "properties": [],
      "txViewAcl": [],
      "txViewFullAcl": [],
      "txRerunAcl": [],
      "status": "enabled",
      "rewriteUrls": false,
      "addAutoRewriteRules": true,
      "autoRetryEnabled": false,
      "autoRetryPeriodMinutes": 60,
      "routes": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "File queue",
          "secured": false,
          "host": "localhost",
          "port": 4002,
          "path": "",
          "pathTransform": "",
          "primary": true,
          "username": "",
          "password": ""
        }
      ],
      "requestBody": true,
      "responseBody": true,
      "rewriteUrlsConfig": [],
      "name": "DHIS2 Entity Based - Pregnancy Tracker",
      "urlPattern": "^/entity-based/.*$",
      "matchContentRegex": null,
      "matchContentXpath": null,
      "matchContentValue": null,
      "matchContentJson": null,
      "pollingSchedule": null,
      "tcpHost": null,
      "tcpPort": null,
      "updatedBy": {
        "id": "5ee0e4fa07c7e900121bcb82",
        "name": "Super User"
      },
      "alerts": [],
      "description": "Sends Pregnancy Entity data to DHIS2"
    },
    {
      "methods": [],
      "type": "http",
      "allow": ["file-queue"],
      "whitelist": [],
      "authType": "private",
      "matchContentTypes": [],
      "properties": [],
      "txViewAcl": [],
      "txViewFullAcl": [],
      "txRerunAcl": [],
      "status": "enabled",
      "rewriteUrls": false,
      "addAutoRewriteRules": true,
      "autoRetryEnabled": false,
      "autoRetryPeriodMinutes": 60,
      "name": "echoServer",
      "urlPattern": "^/test$",
      "routes": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "echoServer",
          "host": "localhost",
          "path": "/test",
          "port": 4003,
          "secured": false,
          "primary": true
        }
      ],
      "updatedBy": {
        "id": "5ee0e4fa07c7e900121bcb82",
        "name": "Super User"
      },
      "alerts": [],
      "rewriteUrlsConfig": []
    },
    {
      "methods": [],
      "type": "http",
      "allow": ["file-queue"],
      "whitelist": [],
      "authType": "private",
      "matchContentTypes": [],
      "properties": [],
      "txViewAcl": [],
      "txViewFullAcl": [],
      "txRerunAcl": [],
      "status": "enabled",
      "rewriteUrls": false,
      "addAutoRewriteRules": true,
      "autoRetryEnabled": false,
      "autoRetryPeriodMinutes": 60,
      "name": "echoServer updated",
      "urlPattern": "^/test-updated$",
      "routes": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "echoServer updated",
          "host": "localhost",
          "path": "/test-updated",
          "port": 4003,
          "secured": false,
          "primary": true
        }
      ],
      "updatedBy": {
        "id": "5ee0e4fa07c7e900121bcb82",
        "name": "Super User"
      },
      "alerts": [],
      "rewriteUrlsConfig": []
    },
    {
      "methods": [
        "GET",
        "POST",
        "DELETE",
        "PUT",
        "OPTIONS",
        "HEAD",
        "TRACE",
        "CONNECT",
        "PATCH"
      ],
      "type": "http",
      "allow": [],
      "whitelist": [],
      "authType": "public",
      "matchContentTypes": [],
      "properties": [],
      "txViewAcl": [],
      "txViewFullAcl": [],
      "txRerunAcl": [],
      "status": "enabled",
      "rewriteUrls": false,
      "addAutoRewriteRules": true,
      "autoRetryEnabled": false,
      "autoRetryPeriodMinutes": 60,
      "routes": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "test",
          "secured": false,
          "host": "google.com",
          "port": 80,
          "path": "",
          "pathTransform": "",
          "primary": true,
          "username": "",
          "password": ""
        }
      ],
      "requestBody": true,
      "responseBody": true,
      "rewriteUrlsConfig": [],
      "name": "test",
      "urlPattern": "^/test$",
      "matchContentRegex": null,
      "matchContentXpath": null,
      "matchContentValue": null,
      "matchContentJson": null,
      "pollingSchedule": null,
      "tcpHost": null,
      "tcpPort": null,
      "updatedBy": {
        "id": "5ee0e4fa07c7e900121bcb82",
        "name": "Super User"
      },
      "alerts": []
    }
  ],
  "Mediators": [
    {
      "urn": "urn:uuid:a15c3d48-0686-4c9b-b375-f68d2f244a33",
      "version": "3.0.0",
      "name": "file-queue",
      "description": "Async file queue mediator for the OpenHIM",
      "defaultChannelConfig": [],
      "endpoints": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "File queue",
          "host": "localhost",
          "path": "/workers/test",
          "port": 4002,
          "primary": true
        }
      ],
      "configDefs": [
        {
          "values": [],
          "template": [
            {
              "param": "name",
              "displayName": "Name",
              "description": "The name of the endpoint which is used for setting up the REST-like routes for the worker",
              "type": "string"
            },
            {
              "param": "path",
              "displayName": "Path",
              "description": "The path to use for handling incoming requests. A '*' may be used to match any number of characters in a path.",
              "type": "string"
            },
            {
              "param": "url",
              "displayName": "Upstream URL",
              "description": "The URL to send the files to when processing them from the queue.",
              "type": "string"
            },
            {
              "param": "paused",
              "displayName": "Paused",
              "description": "Whether or not the endpoint's worker should be paused by default. This must be a boolean value.",
              "type": "bool"
            },
            {
              "param": "parallel",
              "displayName": "Parallel",
              "description": "The number of files that the worker should process in parallel.",
              "type": "number"
            },
            {
              "param": "updateTx",
              "displayName": "UpdateTx",
              "description": "Whether or not to attempt to update the OpenHIM transaction once the message has been processed.",
              "type": "bool"
            },
            {
              "param": "forwardMetadata",
              "displayName": "ForwardMetadata",
              "description": "Whether or not to use the url, headers and HTTP method of the original request when it is forwarded. The path of the original request will be appended to the url property.",
              "type": "bool"
            },
            {
              "param": "disableAutoChannelManagement",
              "displayName": "Disable auto channel management",
              "description": "If disabled, the mediator won't automatically create and update channels as endpoint config is updated.",
              "type": "bool"
            }
          ],
          "param": "endpoints",
          "displayName": "Endpoints",
          "description": "Configure File Queue endpoints",
          "type": "struct",
          "array": true
        }
      ],
      "config": {
        "endpoints": [
          {
            "name": "echoServer updated",
            "path": "/test-updated",
            "url": "http://localhost:8000",
            "paused": false,
            "parallel": 2,
            "updateTx": true,
            "forwardMetadata": true,
            "disableAutoChannelManagement": false
          }
        ]
      }
    },
    {
      "urn": "urn:mediator:generic_mapper",
      "version": "1.0.0",
      "name": "Mapping Mediator",
      "description": "Generic OpenHIM Mapping Mediator",
      "endpoints": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "Generic Mapping Mediator",
          "host": "localhost",
          "port": 3003
        }
      ],
      "defaultChannelConfig": [],
      "configDefs": []
    },
    {
      "urn": "urn:mediator:facility-cache",
      "version": "4.0.0",
      "name": "OpenHIM Facility Cache Mediator",
      "description": "OpenHIM Mediator for facility cache",
      "endpoints": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "Facility Cache Mediator",
          "host": "localhost",
          "port": 8001
        }
      ],
      "configDefs": [
        {
          "values": [],
          "template": [
            {
              "param": "dhisUrl",
              "displayName": "DHIS Url",
              "description": "DHIS url",
              "type": "string"
            },
            {
              "param": "dhisPath",
              "displayName": "DHIS Path",
              "description": "DHIS sql view path. NB! Please ensure that no two DHIS Path's are the same, as the cache will be overwritten by the other",
              "type": "string"
            },
            {
              "param": "cronPattern",
              "displayName": "Cron Pattern",
              "description": "Cron pattern",
              "type": "string"
            },
            {
              "param": "cronTimezone",
              "displayName": "Cron Timezone",
              "description": "Timezone of the cron",
              "type": "string"
            }
          ],
          "param": "routes",
          "displayName": "Routes",
          "description": "Locations of facilities to cache",
          "type": "struct",
          "array": true
        }
      ],
      "config": {
        "routes": [
          {
            "dhisUrl": "http://admin:district@dhis-web:8081",
            "dhisPath": "/api/organisationUnits.json?fields=code,id,name",
            "cronPattern": "00 00 12 * * *",
            "cronTimezone": "Africa/Johannesburg"
          }
        ]
      },
      "defaultChannelConfig": [],
      "_lastHeartbeat": "2020-06-12T07:19:25.907Z",
      "_uptime": 93.594,
      "_configModifiedTS": "2020-06-11T09:37:14.221Z"
    },
    {
      "urn": "urn:mediator:validator-orchestrator",
      "version": "1.0.0",
      "name": "Mapping Mediator",
      "description": "Generic OpenHIM Mapping Mediator",
      "endpoints": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "Generic Mapping Mediator",
          "host": "localhost",
          "port": 3003
        }
      ],
      "defaultChannelConfig": [],
      "configDefs": [],
      "_lastHeartbeat": "2020-06-12T07:19:25.729Z",
      "_uptime": 93.608978525
    },
    {
      "urn": "urn:mediator:populator",
      "version": "1.0.0",
      "name": "Mapping Mediator",
      "description": "Generic OpenHIM Mapping Mediator",
      "endpoints": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "Generic Mapping Mediator",
          "host": "localhost",
          "port": 3003
        }
      ],
      "defaultChannelConfig": [],
      "configDefs": []
    }
  ]
}
